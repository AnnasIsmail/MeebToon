<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/logoOren.png">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="navBar.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>MeebToon</title>
</head>
<body>
    <nav>
        <di class="left">
            <img src="assets/logoOren.png" alt="">
        </di>
        <div class="right">
            <span href="">Home</span>
            <span href="">Top Author</span>
            <span href="">Top MebToon</span>
            <span href="">Subscribe</span>
            <span href="" class="categ">Categories<pre> </pre><label class="panah-bawah"></label></span>
                <div class="drop-down">
                    <span href="">Romance</span>
                    <span href="">Fantasy</span>
                    <span href="">Chinese Classic</span>
                    <span href="">Harem</span>
                    <span href="">Action</span>
                    <span href="">Show All</span>
            </div>
        </div>
    </nav>
    <div class="ganjelan"></div>

    <header>
        <span class="left-slide"><</span>
        <span class="slide-photo" id="parentPhotoSlider">
        </span>
        <div class="parent-titik" id="parentTitik">
        </div>
        <span class="right-slide" >></span>
    </header>

    <script>
    $(document).ready(function(){

        
        $(".categ").hover(function(){
            $(".panah-bawah").css("border-top", "8px solid rgb(151, 57, 49)");
        }, function(){
            $(".panah-bawah").css("border-top", "8px solid rgba(255, 91, 75, 1)");
        });
        
        $(".categ").click(function(){
            $(".drop-down").fadeToggle("slow")
        });
        
        let indexPhotoSlider = 0;

        let sourcePhotoSlider = [
            'assets/gambarWibu1.jpg',
            'assets/gambarWibu2.jpg',
            'assets/gambarWibu3.jpg',
            'assets/gambarWibu4.jpg',
            'assets/gambarWibu5.jpg',
            'assets/gambarWibu6.jpg'
        ];

        sourcePhotoSlider.forEach((src, index)=>{
            const parentTitik = document.getElementById("parentTitik");

            let titik = document.createElement('span');
            titik.setAttribute('id', `titik${index}`);
            titik.setAttribute('class', 'titik');
            parentTitik.appendChild(titik);
            
            $(`#titik${index}`).click(()=>klikTitik(index));
        });

        function renderImageSlider(index){
            src = sourcePhotoSlider[index]
            let image = document.createElement('img');
            image.setAttribute('src', src);
            image.setAttribute('class', 'img-photo-slider')
            image.setAttribute('id', `imageSlidePhoto${index}`);
            image.setAttribute('style', 'display: inline');
            document.getElementById('parentPhotoSlider').appendChild(image);
        }
        
        function changeClassTitik(beforeIndex, nextIndex){
            $(`#titik${beforeIndex}`).removeClass('titik-lebar');
            $(`#titik${beforeIndex}`).addClass('titik');
            $(`#titik${nextIndex}`).removeClass('titik');
            $(`#titik${nextIndex}`).addClass('titik-lebar');
        }

        function klikTitik(index){
            if(indexPhotoSlider < index){
                clearInterval(intervalSlider);
                nextIndexPhotoSlideChoose(index);
                intervalSlider = setInterval(()=> nextIndexPhotoSlide(), 3000);
            }else if(indexPhotoSlider > index){
                clearInterval(intervalSlider);
                prevIndexPhotoSlideChoose(index);
                intervalSlider = setInterval(()=> nextIndexPhotoSlide(), 3000);
            }else if(indexPhotoSlider == index){
                
            }
            indexPhotoSlider = index;
        }

        function nextIndexPhotoSlide(){
            let nextIndex = `${(indexPhotoSlider == sourcePhotoSlider.length-1)?0 :indexPhotoSlider+1}`;
            renderImageSlider(nextIndex);
            changeClassTitik(indexPhotoSlider, nextIndex);

            $(`#imageSlidePhoto${indexPhotoSlider}`).animate({'margin-left':'-107%'},1000, function(){
                $(this).remove();
            });
            $(`#imageSlidePhoto${nextIndex}`).animate({'margin-left':'-107%'},1000, function(){
                $(this).css('margin-left', '0');
            });
            if(indexPhotoSlider == sourcePhotoSlider.length-1){
                indexPhotoSlider = 0;
            }else{
                indexPhotoSlider++;
            }
        }

        function nextIndexPhotoSlideChoose(index){
            console.log('masuk')
            let nextIndex = index;
            renderImageSlider(nextIndex);
            changeClassTitik(indexPhotoSlider, nextIndex);
            
            $(`#imageSlidePhoto${indexPhotoSlider}`).animate({'margin-left':'-107%'},1000, function(){
                $(this).remove();
            });
            $(`#imageSlidePhoto${nextIndex}`).animate({'margin-left':'-107%'},1000, function(){
                $(this).css('margin-left', '0');
            });
            indexPhotoSlider = 5;
        }

        function prevIndexPhotoSlideChoose(index){
            let prevIndex = index;
            changeClassTitik(indexPhotoSlider, prevIndex);

            $(`#imageSlidePhoto${indexPhotoSlider}`).remove();

            renderImageSlider(prevIndex);
            renderImageSlider(indexPhotoSlider);

            $(`#imageSlidePhoto${indexPhotoSlider}`).css('margin-left', '-108%');
            $(`#imageSlidePhoto${prevIndex}`).css('margin-left', '-107%');
            
            $(`#imageSlidePhoto${indexPhotoSlider}`).animate({'margin-left':'+0%'},1000, function(){
            $(this).remove();
            }); 
            $(`#imageSlidePhoto${prevIndex}`).animate({'margin-left':'0'},1000, function(){
                $(this).css('margin-left', '0');
            });
            indexPhotoSlider = 5;
        }
        renderImageSlider(indexPhotoSlider);
        $(`#titik${indexPhotoSlider}`).removeClass('titik');
        $(`#titik${indexPhotoSlider}`).addClass('titik-lebar');

        let intervalSlider = setInterval(()=> nextIndexPhotoSlide(), 3000);

    });

    
    </script>
</body>
</html>